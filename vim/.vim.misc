if has("autocmd")
    augroup MISC
        " Immediately apply any changes to .vimrc after writing.
        autocmd BufWritePost .vimrc source $MYVIMRC

        " Set autocomplete for JS. <C-X><C-O> to initiate, <C-N> and <C-P> to step through.
        autocmd FileType javascript set omnifunc=javascriptcomplete#CompleteJS

        " Add the main function that restores the cursor position and its autocmd so that it gets triggered:
        function! ResCur()
            if line("'\"") <= line("$")
                normal! g`"
                return 1
            endif
        endfunction

        autocmd BufWinEnter * call ResCur()
    augroup END
endif

